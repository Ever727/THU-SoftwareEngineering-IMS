# 功能点分类

## 用户管理

### 注册 \register

#### 功能描述

用户注册功能，用户输入ID、用户名、密码等信息，系统自动生成用户 ID，并将用户信息存储到数据库中。对用户 ID 、密码进行一定的格式要求规范，并进行密码加密存储。

#### 输入参数

- 用户 ID：用户 ID，长度限制 3-16 个字符，只能包含字母、数字、下划线。
- 用户名：用户名，长度限制 3-16 个字符，只能包含字母、数字、下划线、中文。
- 密码：密码，长度限制 6-16 个字符，只能包含字母、数字、下划线。

#### 请求

使用 POST 方法，请求地址为 `/register`，请求包含 JSON 格式的正文。

```json
{
  "user_id": "test_id",
  "username": "test_user",
  "password": "123456",
  "created_time": "2021-01-01 00:00:00",
}
```
- `user_id` 必选，不可重复，表示用户 ID，只能包含字母、数字、下划线，长度限制 3-16 个字符。

- `username` 必选，表示用户名，只能包含字母、数字、下划线、中文，3-16 个字符。

- `password` 必选，表示密码，只能包含字母、数字、下划线，6-16 个字符。

- `created_time` 必选，表示用户注册时间，格式为 `YYYY-MM-DD HH:MM:SS`。

#### 行为

- 系统验证用户输入的ID、用户名、密码是否符合格式要求，ID 是否唯一。
- 系统对密码进行加密，并将用户信息存储到数据库中。

#### 响应

- 注册成功：设置 HTTP 状态码为 HTTP 200 OK，响应为空，提示用户创建成功，并跳转到登录页面。

#### 异常处理

所有错误响应的格式均为：

```json
{
  "code": *,
  "info": "[error message]"
}
```
- `code` 表示错误码   
- `info` 表示错误信息

1. 用户 ID 已存在：提示用户重新输入用户 ID，错误相应的状态码为 。
2. 用户名格式不正确：提示用户重新输入用户名。
3. 密码格式不正确：提示用户重新输入密码。


---

### 登录 \login

#### 功能描述

用户登录功能，用户输入用户名和密码，系统验证用户名和密码是否正确，并返回用户 ID。

#### 输入参数

- 用户名：用户名。
- 密码：密码。

#### 输出参数

- 用户 ID：用户 ID。

#### 异常处理

- 用户名不存在：提示用户重新输入用户名。
- 密码错误：提示用户重新输入密码。

---

### 注销 \logout

#### 功能描述

用户注销功能，用户退出登录，系统删除用户 ID 对应的会话信息。

#### 输入参数

- 用户 ID：用户 ID。

#### 输出参数

- 无。

#### 异常处理

- 用户 ID 不存在：提示用户重新登录。

---

### 个人信息页面 \info\\\<username>

#### 功能描述

用户查看个人信息功能，用户输入用户名，系统返回用户 ID、用户名、邮箱（可选）等信息。

#### 输入参数

- 用户名：用户名。

#### 输出参数

- 用户 ID：用户 ID。
- 用户名：用户名。
- 邮箱（可选）：邮箱。

#### 异常处理

- 用户名不存在：提示用户重新输入用户名。

---

### 个人信息修改 \modify\\\<username>

#### 功能描述

用户修改个人信息功能，用户输入用户名、新用户名（可选）、新密码（可选）、新邮箱（可选），系统修改用户信息。

#### 输入参数

- 用户名：用户名。
- 新用户名（可选）：新用户名。
- 新密码（可选）：新密码。
- 新邮箱（可选）：新邮箱。

#### 输出参数

- 无。

#### 异常处理

- 用户名不存在：提示用户重新输入用户名。
- 新用户名已存在：提示用户重新输入新用户名。
- 新密码格式不正确：提示用户重新输入新密码。
- 新邮箱格式不正确：提示用户重新输入新邮箱。
